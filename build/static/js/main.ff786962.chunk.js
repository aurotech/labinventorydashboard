(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(89)},37:function(e,t,a){},72:function(e,t,a){},80:function(e,t,a){e.exports=a.p+"static/media/logo.3bb01b46.jpg"},83:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(20),l=a(2),c=a.n(l),o=a(9),i=a(4),m=a(5),u=a(7),p=a(6),d=a(8),h=(a(37),a(14)),E=a.n(h);E.a.interceptors.request.use(function(e){return e.url.includes("login")||(localStorage.getItem("labId")?e.headers["X-Access-Token"]=localStorage.getItem("labId"):window.location="/login"),e},function(e){return Promise.reject(e)}),E.a.interceptors.response.use(null,function(e){if(e.response&&e.response.status>=400&&e.response.status<=500)return Promise.reject(e)});var y="http://ec2-54-89-116-114.compute-1.amazonaws.com:8000";function b(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(y+"/assets");case 2:return t=e.sent,a=t.data,e.abrupt("return",a.assets);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(y+"/assetHistory/"+t);case 2:if(a=e.sent,!(n=a.data)||!n.history){e.next=6;break}return e.abrupt("return",n.history);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function w(){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(y+"/recentTransactions/");case 2:if(t=e.sent,!(a=t.data)||!a.history){e.next=6;break}return e.abrupt("return",a.history);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function N(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(y+"/login/",t);case 2:if(a=e.sent,!(n=a.data)){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var O=a(90),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={assets:[],assetHistory:[]},a.trigger={display:"none"},a.getHistory=function(){var e=Object(o.a)(c.a.mark(function e(t,n,s){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,v(s);case 3:(r=e.sent)&&a.state.assetHistory.length<=1&&(a.setState({assetHistory:r}),n.show(t,t.target));case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.onLeave=function(e){e.hide(),a.setState({assetHistory:[]})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.assets){e.next=5;break}return e.next=3,b();case 3:t=e.sent,this.setState({assets:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayTableBody",value:function(e){return e.map(function(e,t){return s.a.createElement("tr",{key:e.assetId},s.a.createElement("td",null,s.a.createElement(O.a,{to:{pathname:"/asset/".concat(e.assetId),search:"?type=".concat(e.assetType),state:e},className:"badge badge-secondary"},e.assetId)),s.a.createElement("td",null,e.assetType),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.quantity||1),s.a.createElement("td",null,e.status),s.a.createElement("td",null,e.timeLastUpdated),s.a.createElement("td",null,e.timeLastUpdated))})}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.tableClasses},s.a.createElement("table",{className:"table table-striped"+(this.props.tableClasses?"":" top-block-raised")},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Asset ID"),s.a.createElement("th",{scope:"col"},"Asset Type"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Quantity"),s.a.createElement("th",{scope:"col"},"Location"),s.a.createElement("th",{scope:"col"},"Time Last Scanned"),s.a.createElement("th",{scope:"col"},"Time Last Updated"))),s.a.createElement("tbody",null,this.props.assets?this.displayTableBody(this.props.assets):this.displayTableBody(this.state.assets))))}}]),t}(n.Component),j=a(15),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).slice={},e.state={data:[]},e.state={data:[]},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillUpdate",value:function(e){var t=this;this.props.assets===e.assets&&this.props.assets.map(function(e){e.labels.map(function(e){e in t.slice?t.slice[e]+=1:t.slice[e]=1})});var a=[];for(var n in this.slice){var s="#"+(16711680*Math.random()<<0).toString(16),r={color:s,highlight:s,value:this.slice[n],label:n};a.push(r)}a.length>0&&(this.state.data.length||this.setState({data:a}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j.Doughnut,{data:this.state.data,options:{title:{display:!0,text:"Single Asset Division"},legend:{display:!0,position:"top"},animationEasing:"easeInSine",showTooltips:!0,responsive:!0,tooltipTitleFontColor:"#000",percentageInnerCutout:40,maintainAspectRatio:!1},height:"220",width:"120"}))}}]),t}(s.a.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={assets:[],lowInventory:[],recents:[],batchAssets:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.next=5,w();case 5:a=e.sent,n=[],t.filter(function(e){"Batch"===e.assetType&&n.push(e)}),this.setState({assets:t,recents:a,batchAssets:n}),this.checkLowInvenntory();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayTransactions",value:function(e,t){var a=(new Date(e.timestamp).getDate()+"/"+(new Date(e.timestamp).getMonth()+1)+"/"+new Date(e.timestamp).getFullYear()).toString();return"AssetEditLabelsTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-blue"},"Labels were updated")," on"," "+a),s.a.createElement("p",null,e.oldLabels.length>0&&"Old Labels:",e.oldLabels.length>0&&e.oldLabels.map(function(e,t){return s.a.createElement("span",{key:t}," "+e+", ")})),s.a.createElement("p",null,e.newLabels.length>0&&"New Labels:",e.newLabels.length>0&&e.newLabels.map(function(e,t){return s.a.createElement("span",{key:t}," "+e+" ")}))):"AssetAdditionTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-green"},e.transactionType)," "+a),s.a.createElement("p",null,"Old Amount:",e.oldAmount),s.a.createElement("p",null,"New Amount:",e.amount)):"AssetSubtractionTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-warning"},e.transactionType)," "+a),s.a.createElement("p",null,"Old Amount:",e.oldAmount),s.a.createElement("p",null,"New Amount:",e.amount)):"AssetCreateTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-green"},"A new Asset was created")," on"," "," "+a),s.a.createElement("p",null,"Asset Type:",e.assetType),s.a.createElement("p",null,"Asset Description:",e.description)):"AssetEditThresholdTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-blue"},e.transactionType)," "+a),s.a.createElement("p",null,"Threshold:",e.newThreshold),s.a.createElement("p",null,"Actual Amount:",e.oldThreshold)):"AssetEditDescriptionTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-warning"},"Asset's Description was updated")," ","on "," "+a," by "," "+e.user),s.a.createElement("p",null,"Old Description:",e.oldDescription),s.a.createElement("p",null,"New Description:",e.newDescription)):"AssetMoveTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-blue"},"Asset's Location was updated")," on"," "," "+a," by "," "+e.user),s.a.createElement("p",null,"Old Location:",e.oldLocation),s.a.createElement("p",null,"New Location:",e.newLocation)):"AssetUndoRemoveTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-blue"}," Updated on asset")," on"," "," "+a," by "," "+e.user),s.a.createElement("p",null,"Old Location:",e.oldLocation),s.a.createElement("p",null,"New Location:",e.newLocation)):"AssetAssignTransaction"===e.transactionClass?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,s.a.createElement("span",{className:"field-green"}," Asset was assigned")," to"," "," "+e.assignee," on"," "+a)):void 0}},{key:"checkLowInvenntory",value:function(){var e=this,t=[];this.state.assets.map(function(a){a.quantity<a.threshold&&(t.push(a),e.setState({lowInventory:t}))})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"row top-block-raised"},s.a.createElement("div",{className:"col-9 my-card"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6 data-block my-card"},s.a.createElement("p",{className:"box-heading"},"Total Single Assets"),s.a.createElement("h3",null,this.state.assets.length),s.a.createElement(x,{assets:this.state.assets})),s.a.createElement("div",{className:"col-6 data-block my-card"},s.a.createElement("p",{className:"box-heading"},"Total Batch Assets"),s.a.createElement("h3",null,this.state.batchAssets.length),s.a.createElement(x,{assets:this.state.batchAssets})),s.a.createElement("div",{className:"data-block"},s.a.createElement("div",{className:"pull-right"},s.a.createElement(O.a,{className:"btn btn-warning btn-sm",style:{float:"right"},to:"/assets"},"Show More")),s.a.createElement("h4",{style:{textAlign:"left"}},"Total Items: ",this.state.assets.length),s.a.createElement(T,{tableClasses:"table-scroll",onMouse:this.onMouseEvent,assets:this.state.assets})))),s.a.createElement("div",{className:"col-3 row-itmes-flex my-card no-left-border"},s.a.createElement("div",{className:"inventory-update"},s.a.createElement("h6",{style:{textAlign:"left"},className:"label-fixed mt-0 card-filled"},"Low Inventory Items:"," ",s.a.createElement("span",{className:"badge badge-dark"},this.state.lowInventory.length)),s.a.createElement("ul",{className:"list-group"},this.state.lowInventory.map(function(e,t){return s.a.createElement("li",{className:"list-group-item",key:t},s.a.createElement("span",{className:"field-red"},e.assetId)," is low on inventory. Only ",e.quantity," left.")}))),s.a.createElement("div",{className:"inventory-transactions"},s.a.createElement("br",null),s.a.createElement("h6",{style:{textAlign:"left"},className:"card-filled"},"Latest Transactions:"," ",s.a.createElement("span",{className:"badge badge-dark"},this.state.recents.length)),this.state.recents.map(function(t,a){return s.a.createElement("ul",{className:"list-group",key:a},s.a.createElement("li",{className:"list-group-item"},e.displayTransactions(t,a)),s.a.createElement("br",null))})))))}}]),t}(n.Component),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).state={data:{labels:["10","20","30","40","50","60","70"],datasets:[{label:"Batch",fillColor:"rgba(220,220,220,0)",strokeColor:"#116EA5",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[10,55,49,45,57,68,94]}]}},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j.Line,{data:this.state.data,options:{responsive:!0,animationSteps:100,bezierCurve:!1},height:"210",width:"800"}))}}]),t}(n.Component),L=(a(72),a(28)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={assetHistory:[],asset:{}},a.assetType=L.parse(e.location.search).type,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(this.props.match.params.id);case 2:t=e.sent,console.log(this.props.location),this.setState({assetHistory:t,asset:this.props.location.state});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayTransactions",value:function(e,t){var a=(new Date(e.timestamp).getDate()+"/"+(new Date(e.timestamp).getMonth()+1)+"/"+new Date(e.timestamp).getFullYear()).toString();return"Increase in Inventory"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Invenntory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Asset Assignment"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Invenntory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Update Comment"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Invenntory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Update Location"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Invenntory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Asset Removal"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Invenntory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Asset Return"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Inventory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Decrease in Inventory"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Inventory added on"," "+a),s.a.createElement("p",null,"Old Amount: ",e.oldAmount),s.a.createElement("p",null,"New Amount: ",e.quantity),s.a.createElement("hr",null)):"Update Description"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Description was on"," "+a," from ",e.newDescription," to ",e.oldDescription),s.a.createElement("hr",null)):"Asset Creation"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Asset was created on"," "+a),s.a.createElement("hr",null)):"Asset Recreation, Restoration to Backup Point"===e.transactionType?s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("p",null,"Asset was re-created / restored on"," "+a),s.a.createElement("hr",null)):void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"asset-header b-raised my-card"},s.a.createElement("h3",null,"Asset ",this.props.match.params.id),s.a.createElement("div",{className:"row mt-25"},s.a.createElement("div",{className:"col-8"},"Single"===this.assetType?s.a.createElement("div",{className:"my-card box-shadow"},s.a.createElement("h3",null,"Details:"),s.a.createElement("hr",null),s.a.createElement("h5",null,"Description: ",this.state.asset.description),s.a.createElement("h5",null,"Status: ",this.state.asset.status)):s.a.createElement("div",null,s.a.createElement("div",{className:"my-card box-shadow"},s.a.createElement("h3",null,"Details:"),s.a.createElement("hr",null),s.a.createElement("h5",null,"Description: ",this.state.asset.description),s.a.createElement("h5",null,"Status: ",this.state.asset.status)),s.a.createElement("br",null),s.a.createElement("div",{className:" my-card box-shadow"},s.a.createElement("p",{className:"box-heading"},"Inventory OverTime"),s.a.createElement("hr",null),s.a.createElement(I,null))),s.a.createElement("div",{className:"box-shadow mt-25"},s.a.createElement("div",{className:"border-gray p-left-30 p-10"},s.a.createElement("p",{className:"box-heading"},"Add Labels Here"),s.a.createElement("hr",null),"LABELS",s.a.createElement("br",null),"DESCRIPTION",s.a.createElement("br",null),"COMMENTS",s.a.createElement("br",null),"ETC",s.a.createElement("br",null),"SET THRESHOLD"))),s.a.createElement("div",{className:"col-4 my-card "+("Single"!==this.assetType&&"scroller-section")},s.a.createElement("p",{className:"box-heading"},"Transaction History"),s.a.createElement("hr",null),s.a.createElement("div",{className:"p-left-30 p-10"},this.state.assetHistory.map(function(t,a){return e.displayTransactions(t,a)}))))))}}]),t}(n.Component),C=a(91),F=a(93),H=a(92),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=window.location.pathname;return s.a.createElement("div",{className:"backgroung-img"},s.a.createElement("img",{className:"m-10",src:a(80),alt:"logo",height:"90"}),s.a.createElement("div",{className:"container p-0"},"/"===e&&s.a.createElement("h3",{className:"page-title"},"DASHBOARD"),"/asset/:id"===e&&s.a.createElement("h3",{className:"page-title"},"ASSET"),"/assets"===e&&s.a.createElement("h3",{className:"page-title"},"ASSETS")))}}]),t}(n.Component),M=function(e){var t=e.children;return s.a.createElement("div",{className:"container body"},s.a.createElement("div",{className:"main_container"},t))},R=(a(81),a(83),a(21)),U=a.n(R),B=(a(86),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).username=s.a.createRef(),a.password=s.a.createRef(),a.state={data:{username:"",password:""},errors:{username:"",password:""}},a.schema={username:U.a.string().required().label("Username"),password:U.a.string().required().label("Password")},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:this.username.current.value,password:this.password.current.value},e.prev=2,e.next=5,N(a);case 5:(n=e.sent)&&n.token&&(console.log(n),s=n.token,localStorage.setItem("labId",s.toString()),this.props.history.replace("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&404===e.t0.response.status&&console.log("Error");case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"card top-block-raised"},s.a.createElement("form",{className:"card-body",onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("h5",{className:"card-title"},"Login"),s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{className:"form-control",type:"text",name:"username",id:"username",ref:this.username}),s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{className:"form-control",type:"text",name:"password",id:"password",ref:this.password}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",className:"btn btn-warning form-control"},"Submit")))}}]),t}(n.Component));r.render(n.createElement(C.a,null,n.createElement("div",null,n.createElement(q,null),n.createElement(M,null,n.createElement(F.a,null,n.createElement(H.a,{path:"/asset/:id",component:D}),n.createElement(H.a,{path:"/assets",component:T}),n.createElement(H.a,{path:"/login",component:B}),n.createElement(H.a,{path:"/",component:S}))))),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.ff786962.chunk.js.map